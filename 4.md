# Complaint Agent - CEO Flowchart

## Current Performance: Where Time Goes

```
┌─────────────────────────────────────────────────────────────────┐
│                USER: "I want to stop payments"                   │
└────────────────────────────┬────────────────────────────────────┘
                             │
                             ▼
                    ┌─────────────────┐
                    │Classifier Layer │
                    │   1.1 - 1.5s    │  ← Decides which agent to use
                    └────────┬────────┘
                             │
                             ▼
                    ┌─────────────────┐
                    │  Context Layer  │
                    │     1.2s        │  ← Builds conversation context
                    └────────┬────────┘
                             │
                             ▼
                    ┌─────────────────┐
                    │ Complaint Agent │  ⚠️ BIGGEST BOTTLENECK
                    │     6.3s        │  ← Analyzes complaint & decides action
                    │                 │     • AI Analysis: 3.8s
                    │                 │     • Reads context & sentiment
                    │                 │     • Plans response
                    └────────┬────────┘
                             │
                             ▼
                    ┌─────────────────┐
                    │  Create Ticket  │
                    │     0.46s       │  ← Creates support ticket (tool call)
                    └────────┬────────┘
                             │
                             ▼
                    ┌─────────────────┐
                    │ Agent Analysis  │  ⚠️ SECOND BOTTLENECK
                    │     1.7s        │  ← Decides to fetch RM details
                    └────────┬────────┘
                             │
                             ▼
                    ┌─────────────────┐
                    │ Fetch RM Details│
                    │     0.1s        │  ← relationship manager(tool call)
                    └────────┬────────┘
                             │
                             ▼
                    ┌─────────────────┐
                    │ Final Response  │  ⚠️ THIRD BOTTLENECK
                    │     2.4s        │  ← Generates empathetic message
                    │                 │     • Processes ticket details
                    │                 │     • Formats RM contact info
                    │                 │     • Creates reassuring message
                    └────────┬────────┘
                             │
                             ▼
┌─────────────────────────────────────────────────────────────────┐
│  REPLY: "I understand you want to stop payments.                │
│         A ticket has been created, and Sakshi Kumari            │
│         has been informed. The team will contact you shortly."  │
│                                                                  │
│  TOTAL TIME: 13.26 seconds                                      │
│  (Classifier: 1.5s + Context: 1.2s + Agent: 6.3s +             │
│   Create Ticket: 0.46s + Agent: 1.7s + Fetch RM: 0.1s +        │
│   Final Response: 2.4s)                                         │
└─────────────────────────────────────────────────────────────────┘
```
